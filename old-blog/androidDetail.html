<!doctype html>
<html class="no-js">
	<head>
	  	<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=no">
		<title>LTY博客</title>
		
		<!-- Set render engine for 360 browser -->
		<meta name="renderer" content="webkit">
		
		<!-- No Baidu Siteapp-->
		<meta http-equiv="Cache-Control" content="no-siteapp"/>
		
		<link rel="icon" type="image/png" href="assets/i/favicon.png">
		
		<!-- Add to homescreen for Chrome on Android -->
		<meta name="mobile-web-app-capable" content="yes">
		<link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@2x.png">
		
		<!-- Add to homescreen for Safari on iOS -->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-title" content="LTY"/>
		<link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
		 <!--
		  <link rel="apple-touch-icon" href="assets/i/app-icon72x72@2x.png">
		    使用rel="apple-touch-icon"属性为“增加高光光亮的图标”，系统会自动为图标添加圆角及高光；
		    使用rel="applw-touch-icon-precomposed"属性为“设计原图图标”；
		 -->
		
		<!-- Tile icon for Win8 (144x144 + tile color) -->
		<meta name="msapplication-TileImage" content="assets/i/app-icon72x72@2x.png">
		<meta name="msapplication-TileColor" content="#0e90d2">
		
		<link rel="stylesheet" href="assets/css/amazeui.min.css">
		<link rel="stylesheet" href="css/head.css" />
		<link rel="stylesheet" href="css/footer.css" />
		<link rel="stylesheet" href="css/font.css" />
		<link rel="stylesheet" href="css/detail.css" />
	</head>
	<body>
		<!--head start-->
	    <div class="head">
			<div class="head_nav_box">
				<!-- 链接触发器， href 属性为目标元素 ID -->
				<i class="am-icon-navicon" data-am-offcanvas="{target: '#left_nav',effect: 'push'}"></i>
				
				<!-- 侧边栏  start-->
				<div id="left_nav" class="am-offcanvas">
				  <div class="am-offcanvas-bar">
				    <div class="am-offcanvas-content">
				    	<ul class="left_nav_item">
							<li>
								<a href="index.html">首页</a>
							</li>
							<li>
								<a href="qianduan.html">前端</a>
							</li>
							<li>
								<a href="houtai.html">后台</a>
							</li>
							<li>
								<a href="android.html">android</a>
							</li>
							<li>
								<a href="download.html">下载</a>
							</li>
							<li>
								<a href="about.html">关于个人</a>
							</li>
						</ul>
				    </div>
				  </div>
				</div>
				<!-- 侧边栏  end-->
				
				<a  class="logo" href="index.html">
		  			<img src="img/logo.png"/>
		  		</a>
				<ul class="head_nav">
					<li>
						<a href="index.html">首页</a>
					</li>
					<li>
						<a href="qianduan.html">前端</a>
					</li>
					<li>
						<a href="houtai.html">后台</a>
					</li>
					<li>
						<a href="android.html">android</a>
					</li>
					<li>
						<a href="download.html">下载</a>
					</li>
					<li>
						<a href="about.html">关于个人</a>
					</li>
				</ul>
				<a class="user_center" href="register.html">注册</a>
				<a class="user_center" href="login.html">登录</a>
			</div>
		</div>
	  	<!--head end-->
	  	
	  	<!--content_top start-->
	  	<div class="content_top">
	  		<div class="author max_width">
	  			<div id="am-g">
	  				<div class="am-u-sm-12 am-u-md-6">
	  					<div class="am-g">
	  						<div class="user_photo am-u-sm-4">
	  							<i class="iconfont icon-user"></i>
	  						</div>
	  						<div class="am-u-sm-1"></div>
	  						<div class="detail_user_info am-u-sm-7">
	  							<span>Lintingyong</span><br />
			  					<span>发布时间：2016/5/8</span><br />
			  					<span>浏览量：198</span>
	  						</div>
	  					</div>
	  				</div>
	  				<div class="am-u-sm-12 am-u-md-6">
	  					<h2 class="detail_h2">编写第一个Android程序-计算器</h2>
	  				</div>
	  			</div>
	  		</div>
	  	</div>
	  	<!--content_top end-->
	  	
	  	<!--content 主体start-->
	  	<div class="content max_width">
	  		<div class="am-g">
	  			<!--目录 start-->
	  			<div class="catalog am-u-sm-0 am-u-md-3">
	  				<span>目录</span>
	  				<ul>
	  					<li>
	  						<a href="###">第一天</a>
	  					</li>
	  					<li>
	  						<a href="###">第二天</a>
	  					</li>
	  					<li>
	  						<a href="###">第三天</a>
	  					</li>
	  				</ul>
	  			</div>
	  			<!--目录 end-->
	  			
	  			<!--文章内容 start-->
	  			<div class="am-u-sm-12 am-u-md-9">
	  				<textarea id="textarea" rows="20" disabled="disabled">
package lty.example.calculator;

import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.Window;
import android.view.WindowManager;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class MainActivity extends ActionBarActivity implements OnClickListener {
	// 初始化显示屏
	EditText editText1;
	// 初始化按钮
	Button btn_clear;
	Button btn_del;
	Button btn_7;
	Button btn_8;
	Button btn_9;
	Button btn_divide;
	Button btn_4;
	Button btn_5;
	Button btn_6;
	Button btn_multiply;
	Button btn_1;
	Button btn_2;
	Button btn_3;
	Button btn_reduce;
	Button btn_genhao;
	Button btn_0;
	Button btn_point;
	Button btn_add;
	Button btn_equal;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		// 去掉状态栏
		this.requestWindowFeature(Window.FEATURE_NO_TITLE);
		// 隐藏状态栏
		this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
				WindowManager.LayoutParams.FLAG_FULLSCREEN);
		setContentView(R.layout.activity_main);

		// 实例化显示屏
		editText1 = (EditText) findViewById(R.id.editText1);
		// 实例化按钮
		btn_clear = (Button) findViewById(R.id.btn_clear);
		btn_del = (Button) findViewById(R.id.btn_del);
		btn_7 = (Button) findViewById(R.id.btn_7);
		btn_8 = (Button) findViewById(R.id.btn_8);
		btn_9 = (Button) findViewById(R.id.btn_9);
		btn_divide = (Button) findViewById(R.id.btn_divide);
		btn_4 = (Button) findViewById(R.id.btn_4);
		btn_5 = (Button) findViewById(R.id.btn_5);
		btn_6 = (Button) findViewById(R.id.btn_6);
		btn_multiply = (Button) findViewById(R.id.btn_multiply);
		btn_1 = (Button) findViewById(R.id.btn_1);
		btn_2 = (Button) findViewById(R.id.btn_2);
		btn_3 = (Button) findViewById(R.id.btn_3);
		btn_reduce = (Button) findViewById(R.id.btn_reduce);
		btn_genhao = (Button) findViewById(R.id.btn_genhao);
		btn_0 = (Button) findViewById(R.id.btn_0);
		btn_point = (Button) findViewById(R.id.btn_point);
		btn_add = (Button) findViewById(R.id.btn_add);
		btn_equal = (Button) findViewById(R.id.btn_equal);
		
		//添加点击
		btn_clear.setOnClickListener(this);
		btn_del.setOnClickListener(this);
		btn_7.setOnClickListener(this);
		btn_8.setOnClickListener(this);
		btn_9.setOnClickListener(this);
		btn_divide.setOnClickListener(this);
		btn_4.setOnClickListener(this);
		btn_5.setOnClickListener(this);
		btn_6.setOnClickListener(this);
		btn_multiply.setOnClickListener(this);
		btn_1.setOnClickListener(this);
		btn_2.setOnClickListener(this);
		btn_3.setOnClickListener(this);
		btn_reduce.setOnClickListener(this);
		btn_genhao.setOnClickListener(this);
		btn_0.setOnClickListener(this);
		btn_point.setOnClickListener(this);
		btn_add.setOnClickListener(this);
		btn_equal.setOnClickListener(this);

	}
	
	//设置清屏标志
	boolean clearFlag = false;
	@Override
	public void onClick(View v) {
		// 获取显示屏的当前文内容
		String str = editText1.getText().toString();
		switch (v.getId()) {
		// 清除按钮
		case R.id.btn_clear:
			editText1.setText("");
			break;
		// 删除按钮
		case R.id.btn_del:
			if (str.length() > 0) {
				editText1.setText(str.substring(0, str.length() - 1));
			}
			break;
		// 数字键按钮
		case R.id.btn_0:
		case R.id.btn_1:
		case R.id.btn_2:
		case R.id.btn_3:
		case R.id.btn_4:
		case R.id.btn_5:
		case R.id.btn_6:
		case R.id.btn_7:
		case R.id.btn_8:
		case R.id.btn_9:
			if(clearFlag){
				str = "";
				clearFlag = false;
			}
			editText1.setText(str + ((Button) v).getText());
			break;

		case R.id.btn_point:
			if(str.length() == 0 || str.substring(str.length()-1).equals("+") || str.substring(str.length()-1).equals("-") || str.substring(str.length()-1).equals("×") || str.substring(str.length()-1).equals("÷")){
				editText1.setText(str + "0.");
			}else if(str.contains(".")){
				if(str.contains("+")){//包含操作符+
					if(str.substring(str.lastIndexOf("+")).contains(".")){
						editText1.setText(str);
					}else{
						editText1.setText(str + ((Button) v).getText());
					}
				}else if(str.contains("-")){//包含操作符-
					if(str.substring(str.lastIndexOf("-")).contains(".")){
						editText1.setText(str);
					}else{
						editText1.setText(str + ((Button) v).getText());
					}
				}else if(str.contains("×")){//包含操作符×
					if(str.substring(str.lastIndexOf("×")).contains(".")){
						editText1.setText(str);
					}else{
						editText1.setText(str + ((Button) v).getText());
					}
				}else if(str.contains("÷")){//包含操作符÷
					if(str.substring(str.lastIndexOf("÷")).contains(".")){
						editText1.setText(str);
					}else{
						editText1.setText(str + ((Button) v).getText());
					}
				}
			}else{
				editText1.setText(str + ((Button) v).getText());
			}
			break;
		// 操作按钮+-*/
		case R.id.btn_add:
		case R.id.btn_reduce:
		case R.id.btn_multiply:
		case R.id.btn_divide:
			if(clearFlag){
				clearFlag = false;
			}
			
			if(str.length() == 0 && v.getId() == R.id.btn_reduce){
				editText1.setText("-");
			}else if(str.length() == 0 && (v.getId() == R.id.btn_add || v.getId() == R.id.btn_multiply || v.getId() == R.id.btn_divide)){
				editText1.setText("");
			}else if(str.length() == 1 && str.substring(0,1).equals("-")){
				editText1.setText(str);
			}else if(str.length() == 1 && !str.substring(0,1).equals("-")){
				editText1.setText(str + ((Button) v).getText());
			}else if(str.length() > 1 && (str.contains("+") || str.substring(1).contains("-") || str.contains("×") || str.contains("÷"))){
				editText1.setText(str);
			}else{
				editText1.setText(str + ((Button) v).getText());
			}
			break;
		// 等号按钮
		case R.id.btn_equal:
			// 调用Result()计算结果
			clearFlag = true;
			Result(str);
			break;
		// 根号或感叹号按钮
		case R.id.btn_genhao:
			Toast.makeText(this, "作者：林廷勇\n时间：2016\\04\\08", Toast.LENGTH_SHORT).show();
		}// switch() end
	}// onClick end

	// Result()方法 ，参数 :当前是显示屏的内容
	public void Result(String str) {
		String a;// 第一个操作数
		String b;// 第二个操作数
		String result = null;// 结果
		if(str.length() > 0){
			if(!str.substring(0,1).equals("-")){//第一个操作数为正数
				if (str.contains("+")) {
					a = str.substring(0, str.indexOf("+"));
					b = str.substring(str.indexOf("+") + 1, str.length());
					if(b.length() != 0){
						result = String.valueOf(Double.parseDouble(a) + Double.parseDouble(b));
					}else{
						clearFlag = false;
						result = str;
					}
				} else if (str.contains("-")) {
					a = str.substring(0, str.indexOf("-"));
					b = str.substring(str.indexOf("-") + 1, str.length());
					if(b.length() != 0){
						result = String.valueOf(Double.parseDouble(a) - Double.parseDouble(b));
					}else{
						clearFlag = false;
						result = str;
					}
				} else if (str.contains("×")) {
					a = str.substring(0, str.indexOf("×"));
					b = str.substring(str.indexOf("×") + 1, str.length());
					if(b.length() != 0){
						result = String.valueOf(Double.parseDouble(a) * Double.parseDouble(b));
					}else{
						clearFlag = false;
						result = str;
					}
				} else if (str.contains("÷")) {
					a = str.substring(0, str.indexOf("÷"));
					b = str.substring(str.indexOf("÷") + 1, str.length());
					if(b.length() != 0){
						result = String.valueOf(Double.parseDouble(a) / Double.parseDouble(b));
					}else{
						clearFlag = false;
						result = str;
					}
				} else {
					result = str;
				}
			}else{//第一个操作数为负数
				if (str.contains("+")) {
					a = str.substring(1, str.indexOf("+"));
					b = str.substring(str.indexOf("+") + 1, str.length());
					if(b.length() != 0){
						result = String.valueOf(Double.parseDouble(b) - Double.parseDouble(a));
					}else{
						clearFlag = false;
						result = str;
					}
				} else if (str.substring(1, str.length()).contains("-")) {
					a = str.substring(0,str.lastIndexOf("-"));
					b = str.substring(str.lastIndexOf("-") + 1, str.length());
					if(b.length() != 0){
						result =String.valueOf(Double.parseDouble(a) - Double.parseDouble(b));
					}else{
						clearFlag = false;
						result = str;
					}
				} else if (str.contains("×")) {
					a = str.substring(0, str.indexOf("×"));
					b = str.substring(str.indexOf("×") + 1, str.length());
					if(b.length() != 0){
						result = String.valueOf(Double.parseDouble(a) * Double.parseDouble(b));
					}else{
						clearFlag = false;
						result = str;
					}
				} else if (str.contains("÷")) {
					a = str.substring(0, str.indexOf("÷"));
					b = str.substring(str.indexOf("÷") + 1, str.length());
					if(b.length() != 0){
						result = String.valueOf(Double.parseDouble(a) / Double.parseDouble(b));
					}else{
						clearFlag = false;
						result = str;
					}
				} else {
					result = str;
				}
			}
		}
		editText1.setText(result);
	}

}

	  				</textarea>
	  				
	  			</div>
	  			<!--文章内容 end-->
	  		</div>
	  	</div>
	  	<!--content 主体end-->
	  	
	  	<!--回到顶部 start-->
	  	<div class="go_top" data-am-smooth-scroll="{position: 0, speed: 1000}" title="回到顶部">
	  		<i class="iconfont icon-goTop"></i>
	  	</div>
	  	<!--回到顶部 end-->
	  	
	  	<!--footer start-->
  		<div class="footer">
  			<!--友情链接 start-->
  			<p class="friendLink_title">友情链接</p>
			<div class="friendLink am-g am-g-fixed">
				<div class="am-u-sm-12 am-u-md-6">
					<div class="am-g">
						<div class="am-u-sm-6">
							<ul>
								<li>
									<a href="http://www2015.tyut.edu.cn/cn/index.html" target="_blank">校园网</a>
								</li>
								<li>
									<a href="http://qzxy.tyut.edu.cn/" target="_blank">清泽心雨</a>
								</li>
								<li>
									<a href="http://www.imooc.com/" target="_blank">慕课网</a>
								</li>
								<li>
									<a href="LTY/index.html">LTY成长</a>
								</li>
							</ul>
						</div>
							
						<div class="am-u-sm-6">
							<ul>
								<li>
									<a href="http://www.zcool.com.cn/" target="_blank">站酷</a>
								</li>
								<li>
									<a href="http://www.iconfont.cn/" target="_blank">Iconfont</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
						
				<div class="am-u-6 am-u-md-6">
					<div class="am-g">
						<div class="am-u-sm-6">
							<ul>
								<li>
									<a href="http://bootstrap.css88.com/" target="_blank">Bootstrap</a>
								</li>
								<li>
									<a href="http://www.css88.com/jqapi-1.9/" target="_blank">jQuery中文文档</a>
								</li>
								<li>
									<a href="http://www.css88.com/book/css/" target="_blank">css参考手册</a>
								</li>
								<li>
									<a href="http://www.w3school.com.cn/" target="_blank">w3cschool</a>
								</li>
							</ul>
						</div>
						
						<div class="am-u-sm-6">
							<ul>
								<li>
									<a href="http://www.zhihu.com/" target="_blank">知乎</a>
								</li>
								<li>
									<a href="http://www.oschina.net/" target="_blank">开源中国</a>
								</li>
								<li>
									<a href="https://www.sdk.cn/" target="_blank">SDKcn开发者平台</a>
								</li>
								<li>
									<a href="http://www.css88.com/nav/" target="_blank">前端资源网</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
					
			</div>
			<!--友情链接 end-->
				
			<div class="am-g">
				<div class="copyright am-u-sm-12 am-u-md-12 am-u-lg-12">
					<p>Copyright&copy; 2016 TYUT LinTingYong</p>
				</div>
			</div>
				
		</div>
		<!--footer end-->
		
		<script src="js/detail.js"></script>
		
<!--[if (gte IE 9)|!(IE)]><!-->
<script src="assets/js/jquery.min.js"></script>
<!--<![endif]-->
<!--[if lte IE 8 ]>
<script src="assets/js/1.11.3_jquery.min.js"></script>
<script src="assets/js/2.8.3_modernizr.js"></script>
<script src="assets/js/amazeui.ie8polyfill.min.js"></script>
<![endif]-->
<script src="assets/js/amazeui.min.js"></script>
	</body>
</html>